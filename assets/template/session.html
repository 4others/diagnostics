<html>  
    <head>
        <meta charset="utf-8"/>
        <style>
            div.solid {border-style: solid;}
            p {
                margin: 10px 0;
                padding: 5px;
                border: 1px solid #999;
            }
        </style>
        <script src="/script/session.js"></script>
    </head>
    <body>
        <form action="" method="post">
            <input type="hidden" id="current_sessionname" name="current_sessionname" value="{{.SessionName}}"/>
            <div class="solid">
                <div>
                    <label for="sessionname">Session Name (1 to 64 characters):</label>
                    <input type="text" id="sessionname" name="sessionname" minlength="1" maxlength="64">
                    <input id="newsession" type="submit" name="new_session" value="New operator session"/>
                    <label for="pin">Session PIN (up to 8 digits)</label>
                    <input id="pin" type="number" name="pin" min="0" max="99999999"/>
                    <input id="resumesession" type="submit" name="resume_session" value="Resume or take over operator session"/>
                </div>
            </div>
            <div class="solid">
                <label>Switch to existing session: </label>
                {{range .UiNodes}}
                    <input id="pin{{.SessionPin}}" type="submit" name="pin{{.SessionPin}}" value="{{.SessionName}}"/>
                {{end}}
            </div>
            <div>
                <ul>
                    {{range .Errors}}
                        <li>ERROR: {{.}}</li>
                    {{end}}
                </ul>
                {{if .Session}}
                    <h2>SESSION: {{.SessionName}} PIN: {{.SessionPin}}</h2>
                    {{if .NodeS.Connected}}
                        <p>Connected, Remote Address: {{.NodeS.RemoteAddr}}</p>
                    {{else}}
                        <p>NOT Connected, Last Remote Address: {{.NodeS.RemoteAddr}}</p>
                    {{end}}
                    <div>
                        <button type="button" onclick="fetchCmdLineArgs('{{.SessionName}}')">Fetch Command Line</button>
                        <div id="cmdlineargs"></div>
                    </div>
                    <div>
                        <button type="button" onclick="fetchLogList('{{.SessionName}}')">Fetch Log List</button>
                        <div id="loglist"></div>
                    </div>
                {{end}}
            </div>
        </form>
    </body>
    <script>
     </script>
</html>
